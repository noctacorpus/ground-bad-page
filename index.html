<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>GroundBad Account</title>
</head>
<body>
  <h3>Verifying your account...</h3>
  <script>
    const params = new URLSearchParams(location.search);
    const token = params.get("token");
    const action = params.get("action") || "verify";

    if (!token) {
      document.body.innerHTML = "<h3>Missing token!</h3>";
    } else {
      const url = `https://cloud-code.services.api.unity.com/v1/projects/3021b893-88f4-4651-916d-924715a5e1b7/modules/AuthManager/verifyEmail?token=${token}`;
      fetch(url)
        .then(r => r.json())
        .then(data => {
          document.body.innerHTML = `<h3>${data.success ? "✅ " : "❌ "}${data.message}</h3>`;
        })
        .catch(e => {
          document.body.innerHTML = `<h3>⚠️ Error: ${e.message}</h3>`;
        });
    }
  </script>
</body>
</html>
